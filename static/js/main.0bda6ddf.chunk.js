(this.webpackJsonpblackjack=this.webpackJsonpblackjack||[]).push([[0],{21:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),s=a.n(c),i=a(30),l=a.n(i),r=(a(36),a(37),a(5)),o=a(8),d=a(9),u=a(13),b=a(12),j=a(10),h=a(11),O=(a(21),function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).continue=function(t){t.preventDefault(),e.props.nextStep()},e}return Object(d.a)(a,[{key:"render",value:function(){var e=this;this.props.values;return Object(n.jsxs)("div",{className:"login-page",children:[Object(n.jsxs)("div",{className:"input-field",children:[Object(n.jsx)("input",{type:"text",id:"name",required:!0,onChange:this.props.handleChange("name")}),Object(n.jsx)("label",{for:"name",children:"Your name:"}),Object(n.jsx)("span",{style:{position:"absolute"},children:Object(n.jsx)(j.a,{className:""!==this.props.values.name?"icon-enabled":"icon-disabled",icon:h.a,size:"2x",onClick:function(t){return e.continue(t)}})})]}),Object(n.jsxs)("div",{className:"rules",children:[Object(n.jsx)("h3",{children:"Rules"}),Object(n.jsxs)("ul",{children:[Object(n.jsx)("li",{children:"The goal of blackjack is to beat the dealer's hand without going over 21."}),Object(n.jsx)("li",{children:"Face cards are worth 10. Aces are worth 1 or 11, whichever makes a better hand."}),Object(n.jsx)("li",{children:"Each player starts with two cards, one of the dealer's cards is hidden until the end."}),Object(n.jsx)("li",{children:"To 'Hit' is to ask for another card. To 'Stand' is to hold your total and end your turn."}),Object(n.jsx)("li",{children:"If you go over 21 you bust, and the dealer wins regardless of the dealer's hand."})]})]})]})}}]),a}(c.Component)),f=a(14),p=a(7),v=a(3),x=(a(42),function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsx)("div",{className:"statusContainer",children:Object(n.jsx)("div",{className:"status",children:Object(n.jsxs)("h1",{className:"value",children:[this.props.playerName,", ",this.props.message,Object(n.jsx)(j.a,{size:"3x",style:{paddingLeft:"10vh",paddingRight:"1vh",color:"#f7e543",marginBottom:"-4vh"},icon:h.b}),this.props.balance]})})})}}]),a}(c.Component));a(43);var m=function(e){var t=Object(c.useState)(10),a=Object(v.a)(t,2),s=a[0],i=a[1],l=Object(c.useState)("input"),o=Object(v.a)(l,2),d=o[0],u=o[1];Object(c.useEffect)((function(){b()}),[s,e.balance]);var b=function(){return s>e.balance||s<.01?(u("inputError"),!1):(u("input"),!0)},j=function(e){i(e.target.value)};return Object(n.jsx)(n.Fragment,{children:function(){return 0===e.gameState?Object(n.jsxs)("div",{className:"controlsContainer",children:[Object(n.jsxs)("div",{className:"betContainer",children:[Object(n.jsx)("h4",{children:"Amount:"}),Object(n.jsx)("input",{autoFocus:!0,type:"number",value:s,onChange:j,className:d})]}),Object(n.jsx)("button",{onClick:function(){b()&&e.betEvent(Math.round(100*s)/100)},className:"button",children:"Bet"})]}):Object(n.jsxs)("div",{className:"controlsContainer",children:[Object(n.jsx)("button",{onClick:function(){return e.hitEvent()},hidden:e.buttonState.hitDisabled,className:!0===e.buttonState.hitDisabled?"btn-hidden":"btn",style:{color:"#3b0e8ddb"},children:"Hit"}),Object(n.jsx)("button",{onClick:function(){return e.standEvent()},hidden:e.buttonState.standDisabled,className:!0===e.buttonState.standDisabled?"btn-hidden":"btn",style:{color:"#3b0e8ddb"},children:Object(n.jsx)("span",{children:"Stand"})}),Object(n.jsx)("button",(t={onClick:function(){return e.resetEvent()},hidden:e.buttonState.resetDisabled,className:"btn"},Object(r.a)(t,"className",!0===e.buttonState.resetDisabled?"btn-hidden":"btn"),Object(r.a)(t,"style",{color:"#3b0e8ddb"}),Object(r.a)(t,"children","Play Again"),t))]});var t}()})};a(44);var g=function(e){return Object(n.jsx)(n.Fragment,{children:e.hidden?Object(n.jsx)("div",{className:"hiddenCard"}):Object(n.jsx)("div",{className:"card",children:Object(n.jsxs)("div",{className:"\u2660"===e.suit||"\u2663"===e.suit?"black":"red",children:[Object(n.jsx)("h1",{className:"cardValue",children:e.value}),Object(n.jsx)("h1",{className:"suit",children:e.suit})]})})})};var S=function(e){return Object(n.jsxs)("div",{className:"handContainer",children:[function(){if(e.cards.length>0)return Object(n.jsx)("h1",{className:"title",children:e.title})}(),Object(n.jsx)("div",{className:"cardContainer",children:e.cards.map((function(e,t){return Object(n.jsx)(g,{value:e.value,suit:e.suit,hidden:e.hidden},t)}))})]})},y=a(6),k=a.n(y);var N=function(e){var t=0,a=1,s=2,i=3,l=0,r=1,o=2,d="Place a Bet!",u="Hit or Stand?",b="You're Busted!",j="You Win!",h="Dealer Wins!",O="Its a Tie!",g=Object(c.useState)({}),y=Object(v.a)(g,2),N=y[0],C=y[1],D=["spades","diamonds","clubs","hearts"],E=Object(c.useState)(D),A=Object(v.a)(E,2),w=A[0],V=A[1],H=Object(c.useState)([]),F=Object(v.a)(H,2),B=F[0],T=F[1],I=Object(c.useState)(0),L=Object(v.a)(I,2),z=L[0],M=L[1],P=Object(c.useState)(0),W=Object(v.a)(P,2),Y=W[0],J=W[1],K=Object(c.useState)([]),R=Object(v.a)(K,2),q=R[0],G=R[1],Q=Object(c.useState)(0),U=Object(v.a)(Q,2),X=U[0],Z=U[1],$=Object(c.useState)(0),_=Object(v.a)($,2),ee=_[0],te=_[1],ae=Object(c.useState)(0),ne=Object(v.a)(ae,2),ce=(ne[0],ne[1]),se=Object(c.useState)(t),ie=Object(v.a)(se,2),le=ie[0],re=ie[1];console.log(le);var oe=Object(c.useState)(d),de=Object(v.a)(oe,2),ue=de[0],be=de[1],je=Object(c.useState)({hitDisabled:!1,standDisabled:!1,resetDisabled:!0}),he=Object(v.a)(je,2),Oe=he[0],fe=he[1],pe=e.values.balanceAmount;console.log(pe);var ve=Object(c.useState)(0),xe=Object(v.a)(ve,2),me=xe[0],ge=xe[1];Object(c.useEffect)((function(){ge(e.values.balanceAmount)}),[pe]),Object(c.useEffect)((function(){le===a&&(console.log(N),N.playerHand.length>0&&N.dealerVisible.length>0&&(N.playerHand.forEach((function(e,t){Se(l,N.playerHand[t])})),Se(o,N.dealerHidden),N.dealerVisible.forEach((function(e,t){Se(r,N.dealerVisible[t])}))),re(s),be(u))}),[le]),Object(c.useEffect)((function(){M(N.playerValue),J(Y+1)}),[B]),Object(c.useEffect)((function(){Z(N.dealerValue),te(ee+1)}),[q]),Object(c.useEffect)((function(){le===s&&("Win"===N.state?(Oe.hitDisabled=!0,Oe.standDisabled=!0,Oe.resetDisabled=!1,ke(),be(j),fe(Object(p.a)({},Oe))):"Bust"===N.state&&Ne())}),[Y]),Object(c.useEffect)((function(){le===i&&(console.log("inside dealer turn"+N),"Win"===N.state?be(j):"Tie"===N.state?be(O):"Lost"===N.state&&be(h))}),[ee]);var Se=function(e,t){if(w.length>0){var a=Math.floor(Math.random()*w.length),n=w[a];switch(console.log(e,t),n){case"spades":ye(e,t,"\u2660");break;case"diamonds":ye(e,t,"\u2666");break;case"clubs":ye(e,t,"\u2663");break;case"hearts":ye(e,t,"\u2665")}}else alert("All cards have been drawn")},ye=function(e,t,a){switch(console.log(e,t,a),e){case l:B.push({value:t,suit:a,hidden:!1}),T(Object(f.a)(B)),console.log(B);break;case r:q.push({value:t,suit:a,hidden:!1}),G(Object(f.a)(q)),console.log(q);break;case o:q.push({value:t,suit:a,hidden:!0}),G(Object(f.a)(q)),console.log(q)}},ke=function(){q.filter((function(e){return!0===e.hidden&&(e.hidden=!1),e})),G(Object(f.a)(q))},Ne=function(){Oe.hitDisabled=!0,Oe.standDisabled=!0,Oe.resetDisabled=!1,fe(Object(p.a)({},Oe)),be(b)};return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{style:{display:"flex"},children:[Object(n.jsx)(x,{message:ue,balance:me,playerName:e.values.name}),Object(n.jsx)(m,{balance:me,gameState:le,buttonState:Oe,betEvent:function(t){ce(t),k.a.get("http://blackjack.us-e2.cloudhub.io/api/bet?uid=".concat(e.values.name,"&betAmount=").concat(t)).then((function(e){C(Object(p.a)({},e.data)),ge(e.data.balance),re(a)}))},hitEvent:function(){k.a.get("http://blackjack.us-e2.cloudhub.io/api/hit?uid=".concat(e.values.name)).then((function(e){console.log(e.data),N.playerValue=e.data.playerValue,N.state=e.data.state,console.log(N),e.data.playerHand.length>0&&Se(l,e.data.playerHand[e.data.playerHand.length-1]),C(Object(p.a)({},N))})),console.log("printing before axios")},standEvent:function(){q.length=0,G(Object(f.a)(q)),k.a.get("http://blackjack.us-e2.cloudhub.io/api/stand?uid=".concat(e.values.name)).then((function(e){console.log(e.data),N.dealerVisible=e.data.dealerVisible,N.dealerValue=e.data.dealerValue,N.state=e.data.state,C(Object(p.a)({},N)),ge(e.data.balance),console.log(N),Oe.hitDisabled=!0,Oe.standDisabled=!0,Oe.resetDisabled=!1,fe(Object(p.a)({},Oe)),re(i),N.dealerVisible.length>0&&N.dealerVisible.forEach((function(e,t){console.log(e),Se(r,N.dealerVisible[t])}))}))},resetEvent:function(){console.clear(),V(D),T([]),M(0),J(0),G([]),Z(0),te(0),ce(0),re(t),be(d),fe({hitDisabled:!1,standDisabled:!1,resetDisabled:!0})}})]}),Object(n.jsx)("div",{}),Object(n.jsx)(S,{title:"Dealer's Hand (".concat(X,")"),cards:q}),Object(n.jsx)(S,{title:"Your Hand (".concat(z,")"),cards:B})]})};var C=function(e){var t=2!==e.values.step;return console.log(e.values.step,t),Object(n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},children:[Object(n.jsxs)("h1",{style:{textAlign:"center"},children:[Object(n.jsx)("span",{id:"black",children:"BLACK"}),Object(n.jsx)("span",{id:"jack",children:"JACK"})]}),Object(n.jsx)("span",{hidden:t,style:{position:"absolute",right:"0"},children:Object(n.jsx)("div",{className:"back-home",children:Object(n.jsx)(j.a,{size:"",className:"back-home-icon",icon:h.c,onClick:function(t){return e.prevStep(t)}})})})]})},D=function(e){Object(u.a)(a,e);var t=Object(b.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,c=new Array(n),s=0;s<n;s++)c[s]=arguments[s];return(e=t.call.apply(t,[this].concat(c))).state={step:1,name:"",balanceAmount:""},e.nextStep=function(){var t=e.state.step;k.a.get("http://blackjack.us-e2.cloudhub.io/api/initialize?uid="+e.state.name).then((function(t){t.data;e.setState({name:t.data.uid,balanceAmount:t.data.balance})})),e.setState({step:t+1})},e.prevStep=function(){var t=e.state.step;k.a.get("http://blackjack.us-e2.cloudhub.io/api/delete?uid="+e.state.name).then((function(a){console.log(a.data),e.setState({step:t-1,name:"",balanceAmount:""})}))},e.handleChange=function(t){return function(a){e.setState(Object(r.a)({},t,a.target.value))}},e}return Object(d.a)(a,[{key:"render",value:function(){switch(this.state.step){case 1:return Object(n.jsxs)("div",{children:[Object(n.jsx)(C,{values:this.state}),Object(n.jsx)(O,{nextStep:this.nextStep,handleChange:this.handleChange,values:this.state})]});case 2:return Object(n.jsxs)("div",{children:[Object(n.jsx)(C,{prevStep:this.prevStep,values:this.state}),Object(n.jsx)(N,{values:this.state}),";"]})}}}]),a}(c.Component);var E=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(D,{})})},A=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,62)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;a(e),n(e),c(e),s(e),i(e)}))};l.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(E,{})}),document.getElementById("root")),A()}},[[61,1,2]]]);
//# sourceMappingURL=main.0bda6ddf.chunk.js.map